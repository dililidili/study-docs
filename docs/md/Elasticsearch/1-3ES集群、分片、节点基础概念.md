# 1.3、ES集群、分片、节点基础概念

## 1.集群

ES节点：运行的ES实例
ES集群：由若干节点组成，这些节点在同一个网络内，cluster-name相同

## 2.节点

### 节点角色：

- mater:候选节点
- data:数据节点
- data_content:数据内容节点
- data_hot:热节点
- data_warm:索引不再定期更新，但仍可以查询
- data_cold:冷节点,只读索引
- Ingest:预处理节点
- ml:机器学习节点
- remote_cluster_client:候选客户端节点
- transform:转换节点
- voting_only:仅投票节点

## 3.分片

### 介绍

分片分为主分片和副本。

一个索引包含一个或多个分片，在7.0之前默认五个主分片，每个主分片一个副本；在7.0之后默认一个主分片。副本可以在素引创建之后修改数量，但是主分片的数量一旦确定不可修改，只能创建索引。

每个分片都是一个Lucene实例，有完整的创建索引1和处理请求的能力。ES会自动再nodes 上做分片均衡。

一个doc不可能同时存在于多个主分片中，但是当每个主分片的副本数量不为一时，可以同时存在于多个副本中。

每个主分片和其副本分片不能同时存在于同一个节点上，所以最低的可用配置是两个节点互为主备。